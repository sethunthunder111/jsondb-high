<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Benchmarks â€” jsondb-high</title>
  <meta name="description" content="Performance benchmarks for jsondb-high. 2M+ ops/s reads, 260k+ ops/s writes.">
  
  <link rel="stylesheet" href="styles.css">
  <style>
    .benchmarks-hero {
      text-align: center;
      padding: calc(var(--nav-height) + var(--space-16)) var(--space-6) var(--space-12);
    }
    
    .benchmarks-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-6);
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 0 var(--space-6) var(--space-24);
    }
    
    @media (max-width: 768px) {
      .benchmarks-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-container">
      <a href="index.html" class="nav-logo">
        jsondb<span>-high</span>
      </a>
      <div class="nav-links" id="navLinks">
        <a href="index.html" class="nav-link">Home</a>
        <a href="docs.html" class="nav-link">Documentation</a>
        <a href="benchmarks.html" class="nav-link active">Benchmarks</a>
        <a href="https://github.com/sethunthunder111/jsondb-high" class="nav-link" target="_blank" rel="noopener">GitHub</a>
        <a href="docs.html#getting-started" class="nav-cta">Get Started</a>
      </div>
      <button class="nav-toggle" id="navToggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Hero -->
  <section class="benchmarks-hero">
    <span class="section-label">Performance</span>
    <h1 class="section-title">Benchmarks</h1>
    <p class="section-subtitle">All benchmarks run with 10,000 iterations per test on a standard Linux x64 machine.</p>
    
    <div class="performance-grid" style="margin-top: var(--space-12);">
      <div class="performance-card">
        <div class="performance-value" data-count="2000000">0</div>
        <div class="performance-label">Reads/sec</div>
        <p class="performance-desc">Lock-free, zero-copy lookups</p>
      </div>
      <div class="performance-card">
        <div class="performance-value" data-count="340000">0</div>
        <div class="performance-label">Writes/sec</div>
        <p class="performance-desc">Group Commit WAL</p>
      </div>
      <div class="performance-card">
        <div class="performance-value" data-count="511000">0</div>
        <div class="performance-label">Indexed/sec</div>
        <p class="performance-desc">O(1) constant time</p>
      </div>
      <div class="performance-card">
        <div class="performance-value" data-count="0.5" data-decimal="true">0</div>
        <div class="performance-label">ms Latency</div>
        <p class="performance-desc">Average response time</p>
      </div>
    </div>
  </section>

  <!-- Charts -->
  <section class="section section-alt">
    <div class="benchmarks-grid">
      <!-- Read Operations -->
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Read Operations</h3>
          <div class="chart-value">2M+</div>
        </div>
        <div class="bar-chart">
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="76%"></div>
            <span class="bar-label">get (in-mem)</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="100%"></div>
            <span class="bar-label">get (wal)</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="195%"></div>
            <span class="bar-label">has</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="52%"></div>
            <span class="bar-label">findByIndex</span>
          </div>
        </div>
      </div>
      
      <!-- Write Operations -->
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Write Operations</h3>
          <div class="chart-value">340K</div>
        </div>
        <div class="bar-chart">
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="78%"></div>
            <span class="bar-label">set simple</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="67%"></div>
            <span class="bar-label">set nested</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="100%"></div>
            <span class="bar-label">add/subtract</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="97%"></div>
            <span class="bar-label">delete</span>
          </div>
        </div>
      </div>
      
      <!-- Query Operations -->
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Query Operations</h3>
          <div class="chart-value">1.1K</div>
        </div>
        <div class="bar-chart">
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="95%"></div>
            <span class="bar-label">where</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="65%"></div>
            <span class="bar-label">sort</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="100%"></div>
            <span class="bar-label">count</span>
          </div>
          <div class="bar-item">
            <div class="bar" style="height: 0;" data-height="100%"></div>
            <span class="bar-label">find</span>
          </div>
        </div>
      </div>
      
      <!-- Batch Operations -->
      <div class="chart-card">
        <div class="chart-header">
          <h3 class="chart-title">Batch Operations</h3>
          <div class="chart-value">187K</div>
        </div>
        <div class="horizontal-bar-container" style="margin-top: var(--space-6);">
          <div class="horizontal-bar-row">
            <span class="horizontal-bar-label">10 ops batch</span>
            <div class="horizontal-bar-track">
              <div class="horizontal-bar-fill" data-width="70%">
                <span class="horizontal-bar-value">187K ops/s</span>
              </div>
            </div>
          </div>
          <div class="horizontal-bar-row">
            <span class="horizontal-bar-label">Single writes</span>
            <div class="horizontal-bar-track">
              <div class="horizontal-bar-fill" data-width="100%">
                <span class="horizontal-bar-value">267K ops/s</span>
              </div>
            </div>
          </div>
          <div class="horizontal-bar-row">
            <span class="horizontal-bar-label">Parallel batch</span>
            <div class="horizontal-bar-track">
              <div class="horizontal-bar-fill" data-width="100%" style="background: linear-gradient(90deg, var(--slate-500), var(--slate-600));">
                <span class="horizontal-bar-value">500K+ ops/s</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Detailed Table -->
  <section class="section">
    <div class="section-header">
      <span class="section-label">Detailed Results</span>
      <h2 class="section-title">Complete Benchmark Data</h2>
    </div>
    
    <div style="max-width: 1000px; margin: 0 auto; padding: 0 var(--space-6);">
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Operation</th>
              <th>In-Memory</th>
              <th>WAL Mode</th>
              <th>Latency</th>
            </tr>
          </thead>
          <tbody>
            <tr><td><code>set (simple)</code></td><td>266,567 ops/s</td><td>244,557 ops/s</td><td>0.0038ms</td></tr>
            <tr><td><code>set (nested)</code></td><td>229,894 ops/s</td><td>241,600 ops/s</td><td>0.0043ms</td></tr>
            <tr><td><code>get (existing)</code></td><td>762,585 ops/s</td><td>992,655 ops/s</td><td>0.0013ms</td></tr>
            <tr><td><code>has (missing)</code></td><td>1,938,518 ops/s</td><td>1,729,562 ops/s</td><td>0.0005ms</td></tr>
            <tr><td><code>delete</code></td><td>331,851 ops/s</td><td>321,576 ops/s</td><td>0.0030ms</td></tr>
            <tr><td><code>add/subtract</code></td><td>334,696 ops/s</td><td>340,233 ops/s</td><td>0.0030ms</td></tr>
            <tr><td><code>findByIndex</code></td><td>511,932 ops/s</td><td>451,284 ops/s</td><td>0.0020ms</td></tr>
            <tr><td><code>batch (10 ops)</code></td><td>187,280 ops/s</td><td>151,731 ops/s</td><td>0.0053ms</td></tr>
            <tr><td><code>query.where()</code></td><td>1,104 ops/s</td><td>1,061 ops/s</td><td>0.91ms</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-brand">
          <div class="footer-logo">jsondb<span>-high</span></div>
          <p class="footer-description">A blazing fast, feature-rich JSON database for Node.js with a Rust-powered core.</p>
        </div>
        <div class="footer-column">
          <h4>Product</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="docs.html">Documentation</a></li>
            <li class="footer-link"><a href="benchmarks.html">Benchmarks</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Resources</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="https://github.com/sethunthunder111/jsondb-high" target="_blank">GitHub</a></li>
            <li class="footer-link"><a href="https://www.npmjs.com/package/jsondb-high" target="_blank">npm</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Legal</h4>
          <ul class="footer-links">
            <li class="footer-link"><a href="LICENSE">MIT License</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">&copy; 2026 jsondb-high. Open source under MIT License.</p>
      </div>
    </div>
  </footer>

  <script>
    // Mobile nav
    document.getElementById('navToggle').addEventListener('click', () => {
      document.getElementById('navLinks').classList.toggle('active');
    });
    
    // Animate counters
    function animateCounter(el, target, isDecimal = false) {
      const duration = 1500;
      const start = performance.now();
      
      function update(now) {
        const progress = Math.min((now - start) / duration, 1);
        const easeOut = 1 - Math.pow(1 - progress, 4);
        const current = target * easeOut;
        
        if (isDecimal) {
          el.textContent = current.toFixed(1);
        } else if (target >= 1000000) {
          el.textContent = (current / 1000000).toFixed(1) + 'M';
        } else if (target >= 1000) {
          el.textContent = Math.floor(current / 1000) + 'K';
        } else {
          el.textContent = Math.floor(current);
        }
        
        if (progress < 1) requestAnimationFrame(update);
      }
      requestAnimationFrame(update);
    }
    
    // Animate bars
    function animateBars() {
      document.querySelectorAll('.bar').forEach((bar, i) => {
        setTimeout(() => {
          bar.style.height = bar.dataset.height;
        }, i * 100);
      });
    }
    
    function animateHorizontalBars() {
      document.querySelectorAll('.horizontal-bar-fill').forEach((bar, i) => {
        setTimeout(() => {
          bar.style.width = bar.dataset.width;
        }, i * 150);
      });
    }
    
    // Intersection Observer
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Counter cards
          const counters = entry.target.querySelectorAll('.performance-value[data-count]');
          counters.forEach(counter => {
            const target = parseFloat(counter.dataset.count);
            const isDecimal = counter.dataset.decimal === 'true';
            animateCounter(counter, target, isDecimal);
          });
          
          // Bars
          if (entry.target.querySelector('.bar-chart')) {
            animateBars();
          }
          if (entry.target.querySelector('.horizontal-bar-container')) {
            animateHorizontalBars();
          }
          
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3 });
    
    document.querySelectorAll('.performance-card, .chart-card').forEach(el => observer.observe(el));
  </script>
</body>
</html>
